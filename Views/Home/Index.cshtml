@model event_booking.Models.Event
<style>
    .item image{
        width: 100%;
    }
   .centered {
   position: absolute;
   top: 50%;
   left: 50%;
   transform: translate(-50%, -50%);
   }
   .bottom-left {
   position: absolute;
   bottom: 8px;
   left: 16px;
   }
   h1,
   h1 + p {
   margin-left: 15px;
   font-weight: 300;
   font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif
   }
   h1 + p a {
   color: #333;
   }
   h1 + p a:hover {
   text-decoration: none;
   }
   h2 {
   margin: 5px 15px 0;
   padding: 0;
   font-weight: 300;
        font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif
    }
   h2 span {
   margin-left: 1em;
   color: #aaa;
   font-size: 50%;
   }
   h3 {
   margin-top: 10px;
   padding: 0;
   font-weight: 300;
        font-family: 'Roboto', sans-serif
   }
   h3 span {
   margin-left: 1em;
   color: #aaa;
   font-size: 85%;
   }
   h4 {
   margin: 5px 5px 0;
   margin-top: -10px;
   padding: 0;
   font-weight: 300;
        font-family: 'Roboto', sans-serif
   }
   h4 span {
   margin-left: 1em;
   color: #aaa;
   font-size: 85%;
   }
   h5 {
   padding: 0;
   font-weight: 300;
   font-family: 'Roboto', sans-serif
   }
   h5 span {
   margin-left: 1em;
   color: #aaa;
   font-size: 20%;
   }
   h6 {
   margin: 5px 5px 0;
   padding: 0;
   font-weight: 300;
        font-family: 'Roboto', sans-serif
   }
   h6 span {
   margin-left: 1em;
   color: #aaa;
   font-size: 50%;
   }
   p {
   margin-left: 15px;
   padding: 0;
   font-weight: 300;
        font-family: 'Roboto', sans-serif
   }
   p span {
   margin-left: 1em;
   color: #aaa;
   font-size: 85%;
   }
   .example {
   position: relative;
   padding: 0;
   width: 300px;
   display: block;
   cursor: pointer;
   overflow: hidden;
   }
   .center {
   margin: auto;
   width: 50%;
   padding: 10px;
   }
   .gradient-custom-3 {
   /* fallback for old browsers */
   background: #1A237E;
   /* Chrome 10-25, Safari 5.1-6 */
   background: -webkit-linear-gradient(to right, rgba(0, 9, 75, 0.8), rgba(108, 11, 113, 1));
   /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
   background: linear-gradient(to right, rgba(0, 9, 75, 0.8), rgba(108, 11, 113, 1))
   }
   .gradient-custom-4 {
   /* fallback for old browsers */
   background: #1A237E;
   /* Chrome 10-25, Safari 5.1-6 */
   background: -webkit-linear-gradient(to right, rgba(0, 9, 75, 0.8), rgba(108, 11, 113, 1));
   /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
   background: linear-gradient(to right, rgba(0, 9, 75, 0.8), rgba(108, 11, 113, 1))
   }
   .container-overflow {
   box-shadow: rgba(0, 0, 0, 0.15) 1.95px 1.95px 2.6px;
   }
   .border-botom {
   margin-bottom: 10px;
   }
   /*Fade Hover Effect*/
   .hover-fade a {
   display: block;
   position: relative;
   overflow: hidden;
   background-color: indigo;
   border-radius: 5px;
   }
   .hover-fade img {
   width: 100%;
   height: auto;
   -webkit-transition: all 0.5s ease-in-out;
   -moz-transition: all 0.5s ease-in-out;
   -o-transition: all 0.5s ease-in-out;
   transition: all 0.5s ease-in-out;
   }
   .hover-fade:hover img {
   -webkit-transform: scale(1.2);
   -moz-transform: scale(1.2);
   -o-transform: scale(1.2);
   -ms-transform: scale(1.2);
   transform: scale(1.2);
   opacity: 0.5;
   box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
   }

    .banner-container {
        position: relative;
        width: 100%;
        height: 100vh;
        background-size: cover;
    }

    .banner-container a {
        display: block;
        width: 100%;
        height: 100%;
    }

    .carousel-container {
        border: 2px solid purple;
        padding: 20px;
    }

    body {
        margin: 0;
    }

    /* Position child elements relative to this element */
    .aspect-ratio-box {
        position: relative;
    }

        /* Create a pseudo element that uses padding-bottom to take up space */
        .aspect-ratio-box::after {
            display: block;
            content: '';
            /* 16:9 aspect ratio */
            padding-bottom: 62.5%;
        }

        /* Image is positioned absolutely relative to the parent element */
        .aspect-ratio-box img {
            /* Image should match parent box size */
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .carousel-caption{
            margin-bottom: 500px;
        }

    .img-container {
        display: inline-block;
        position: relative;
    }

        .img-container::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            box-shadow: 0px -1180px 360px -280px black inset;
        }

</style>
<head>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
</head>
<body>
         <div class="container-overflow">
            <div class="row gx-3">
               <div class="container-overflow px-7">
                  <div class="col-12">
                     <div style=" margin-bottom: -15px; margin-top:0px; " class="p-3 border bg-white">
                        <div id="eventCarousel" class="carousel slide carousel-fade" data-ride="carousel" style=" margin-top: -17px; margin-bottom: -16px; margin-left: -17px; margin-right: -17px">
                            <div class="carousel-inner" style="max-height: 300px;">
                                    @{
                                        var randomEvent = ((List<Event>)ViewBag.Events).OrderBy(x => Guid.NewGuid()).Take(20).ToList();
                                        for (int i = 0; i < randomEvent.Count; i++)
                                        {
                                            var events = randomEvent[i];
                                            var activeClass = i == 0 ? "active" : "";

                                            <div class="carousel-item  @activeClass">

                                                    <a asp-controller="ESEventsPage" asp-action="EventsPage" asp-route-id="@events.EventId" class="banner-container">
                                                    <div class=" img-container banner-container aspect-ratio-box">
                                                        <img src="@events.Image" class="rounded" />
                                                    </div>
                                                    </a>
                                                <div  class="carousel-caption">
                                                     <h4 style="margin-top: -80px;">@events.Name</h4>
                                                <p class ="text-muted">@events.EventCategory.CategoryName</p>
                                                </div>
                                            </div>
                                        }
                                    }
                                </div>
                                <a class="carousel-control-prev" href="#eventCarousel" role="button" data-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                </a>
                                <a class="carousel-control-next" href="#eventCarousel" role="button" data-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                </a>
                            </div>
                        <div id="section1" style=" margin-bottom: -20px; margin-top:40px;"></div>
                        <div class="row">
                           <div class="col-9">
                              <center>
                                 <h3 style="margin-top: 5px;" class="border-dark border-bottom"></h3>
                              </center>
                              <div class="row" style="margin-bottom: 15px; margin-left: 20px; ">
                                 <center>
                                    <H2 class=" border-dark border-bottom" style="margin-left:250px; margin-right:250px; margin-top: 15px;">Popular Events</H2>
                                 </center>
                              </div>
                              <div class="row border-bottom">
                                 @{
                                 var randomEvents = ((List
                                 <Event>
                                 )ViewBag.Events).OrderBy(x => Guid.NewGuid()).Take(4);
                                 foreach (var @events in randomEvents)
                                 {
                                 <div class="col-3 hover-fade rounded">
                                    
                                    <a asp-controller="ESEventsPage" asp-action="EventsPage" asp-route-id="@events.EventId">
                                    <div class="aspect-ratio-box">
                                    <img src="@events.Image" class="rounded" />
                                    </div>
                                    </a>
                                    <center>
                                       <p class="text-muted">@events.EventCategory.CategoryName</p>
                                    </center>
                                    <center>
                                       <h4>@events.Name</h4>
                                    </center>
                                 </div>
                                 }
                                 <p></p>
                                 }
                              </div>
                              <div style="margin-top:20px;" class="row border-bottom">
                                 @{
                                 var randomEvents2 = ((List
                                 <Event>
                                 )ViewBag.Events).OrderBy(x => Guid.NewGuid()).Take(4);
                                 foreach (var @events in randomEvents2)
                                 {
                                 <div class="col-3 hover-fade rounded ">
                                    <a asp-controller="ESEventsPage" asp-action="EventsPage" asp-route-id="@events.EventId">
                                    <div class="aspect-ratio-box">
                                    <img src="@events.Image" class="rounded" />
                                    </div>
                                    </a>
                                    
                                    <center>
                                       <p class="text-muted">@events.EventCategory.CategoryName</p>
                                    </center>
                                    <center>
                                       <h4>@events.Name</h4>
                                    </center>
                                 </div>
                                 }
                                 <p></p>
                                 }
                              </div>
                              <div style="margin-top:20px;" class="row border-bottom">
                                 <Center>
                                    <h2 class="border-dark border-bottom" style="margin-left:250px; margin-right:250px; margin-bottom: 15px; ">Discover Events </h2>
                                 </Center>
                                 @{
                                 var randomEvents3 = ((List
                                 <Event>
                                 )ViewBag.Events).OrderBy(x => Guid.NewGuid()).Take(4);
                                 foreach (var @events in randomEvents3)
                                 {
                                 <div class="col-6 hover-fade rounded">
                                    <a asp-controller="ESEventsPage" asp-action="EventsPage" asp-route-id="@events.EventId">
                                    <div class="aspect-ratio-box">
                                    <img src="@events.Image" class="rounded" />
                                    </div>
                                    </a>
                                    <center>
                                       <p class="text-muted">@events.EventCategory.CategoryName</p>
                                    </center>
                                    <center>
                                       <h4>@events.Name</h4>
                                    </center>
                                 </div>
                                 }
                                 }
                                 <p></p>
                              </div>
                              <div style="margin-top:20px;" class="row border-bottom">
                                 <Center>
                                    <h2 class="border-dark border-bottom" style="margin-left:250px; margin-right:250px; margin-bottom: 15px; ">Upcoming Events </h2>
                                 </Center>
                                 @{
                                 var upcomingEvents = ((List
                                 <Event>
                                 )ViewBag.Events)
                                 .Where(e => e.StartDateTime > DateTime.Now && e.StartDateTime <= DateTime.Now.AddDays(14))
                                 .Take(6);
                                 foreach (var @events in upcomingEvents)
                                 {
                                 string description = @events.Description.Length > 125 ? @events.Description.Substring(0, 125) + "..." : @events.Description;
                                 string startDate = @events.StartDateTime.ToString("dd/MM/yyyy");
                                 <div class="col-4 hover-fade rounded">
                                    <a asp-controller="ESEventsPage" asp-action="EventsPage" asp-route-id="@events.EventId">
                                    <div class="aspect-ratio-box">
                                    <img src="@events.Image" class="rounded" />
                                    </div>
                                    </a>
                                    <p></p>
                                    <center>
                                       <h6 class="text-muted">@startDate</h6>
                                    </center>
                                    <p></p>
                                    <center>
                                       <h4>@events.Name</h4>
                                    </center>
                                    <center>
                                       <h6 class="text-muted">@description</h6>
                                    </center>
                                    <br>
                                 </div>
                                 }
                                 }
                                 <p></p>
                              </div>
                           </div>
                            <div style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px; margin-top: -20px; margin-bottom: -20px; margin-right: -17px;" class="col-3 container-fluid">
                              <Center>
                                 <h2> Latest Events </h2>
                              </Center>
                              <Center>
                                 <div class="col-12">
                                    @{
                                    var latestEvents = ((List
                                    <Event>
                                    )ViewBag.Events).OrderByDescending(e => e.StartDateTime).Take(9);
                                    foreach (var @events in latestEvents)
                                    {
                                    <div class="col-10 hover-fade rounded">
                                    <a asp-controller="ESEventsPage" asp-action="EventsPage" asp-route-id="@events.EventId">
                                    <div class="aspect-ratio-box">
                                    <img src="@events.Image" class="rounded" />
                                    </div>
                                    </a>
                                       <br>
                                       <div>
                                          <center>
                                             <h5>@events.Name</h5>
                                          </center>
                                       </div>
                                       <div>
                                          <center>
                                             <p class="text-muted">@events.EventCategory.CategoryName</p>
                                          </center>
                                       </div>
                                    </div>
                                    }
                                    }
                                 </div>
                              </Center>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
</body>